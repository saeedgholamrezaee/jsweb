<!DOCTYPE html>
<html lang="fa">
  <head>
    <meta charset="UTF-8" />
    <title>فرم ورود کالا</title>
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <div class="form-container">
      <h2>فرم اطلاعات کالا</h2>

      <form id="productForm">
        <!-- گروه ۱: طرف حساب، شماره، تاریخ -->
        <fieldset>
          <legend>مشخصات فاکتور</legend>
          <div class="header-row">
            <div class="header-right">
              <label>طرف حساب:</label>
              <input
                type="text"
                id="customerName"
                required
                style="font-size: 20px"
              />
            </div>
            <div class="header-left">
              <div>
                <label>شماره:</label>
                <input
                  type="text"
                  id="invoiceNumber"
                  required
                  style="font-size: 18px"
                />
              </div>
              <div>
                <label>تاریخ:</label>
                <input
                  type="date"
                  id="invoiceDate"
                  required
                  style="font-size: 18px"
                />
              </div>
            </div>
          </div>
        </fieldset>

        <!-- گروه ۲: اطلاعات کالا -->
        <fieldset>
          <legend>اطلاعات کالا</legend>

          <div class="row">
            <div>
              <label>کد کالا:</label>
              <input type="text" id="productCode" required />
            </div>
            <div>
              <label>نام کالا:</label>
              <input type="text" id="productName" required />
            </div>
          </div>

          <div class="row">
            <div>
              <label>تعداد کل:</label>
              <input type="number" id="quantity" min="1" required />
            </div>
            <div>
              <label>واحد سنجش:</label>
              <input type="text" id="unit" required />
            </div>
          </div>

          <div class="row">
            <div>
              <label>نرخ (فی):</label>
              <input type="number" id="rate" min="0" required />
            </div>
            <div>
              <label>مبلغ:</label>
              <input type="number" id="amount" min="0" required />
            </div>
          </div>
        </fieldset>

        <!-- گروه ۳: تحویل دهنده/گیرنده -->
        <fieldset>
          <legend>اطلاعات تحویل</legend>
          <div class="footer">
            <div>
              <label>تحویل گیرنده:</label>
              <input type="text" id="receiver" required />
            </div>
            <div>
              <label>تحویل دهنده:</label>
              <input type="text" id="deliverer" required />
            </div>
          </div>
        </fieldset>

        <!-- دکمه‌ها -->
        <div class="buttons">
          <button type="submit" class="submit-btn">ثبت</button>
          <button type="reset" class="cancel-btn">انصراف</button>
        </div>
      </form>
    </div>

    <script>
      document
        .getElementById("productForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const data = {
            customerName: document.getElementById("customerName").value,
            invoiceNumber: document.getElementById("invoiceNumber").value,
            invoiceDate: document.getElementById("invoiceDate").value,
            productCode: document.getElementById("productCode").value,
            productName: document.getElementById("productName").value,
            quantity: parseFloat(document.getElementById("quantity").value),
            unit: document.getElementById("unit").value,
            rate: parseFloat(document.getElementById("rate").value),
            amount: parseFloat(document.getElementById("amount").value),
            receiver: document.getElementById("receiver").value,
            deliverer: document.getElementById("deliverer").value,
          };

          localStorage.setItem("invoiceData", JSON.stringify(data));
          window.location.href = "invoice.html";
        });
    </script>
  </body>
</html>
