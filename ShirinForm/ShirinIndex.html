<!DOCTYPE html>
<html lang="fa">
  <head>
    <meta charset="UTF-8" />
    <title>فرم ورود اطلاعات پرسنلی</title>
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <div class="form-container">
      <h2>فرم ورود اطلاعات پرسنلی</h2>
      <form id="personnelForm">
        <!-- User ID -->
        <div class="row">
          <div>
            <label for="userId">شناسه کاربر:</label>
            <input type="text" id="userId" name="userId" required />
          </div>
        </div>

        <!-- First Name & Last Name -->
        <div class="row">
          <div>
            <label for="firstName">نام:</label>
            <input type="text" id="firstName" name="firstName" required />
          </div>
          <div>
            <label for="lastName">نام خانوادگی:</label>
            <input type="text" id="lastName" name="lastName" required />
          </div>
        </div>

        <!-- Father's Name & Religion -->
        <div class="row">
          <div>
            <label for="fatherName">نام پدر:</label>
            <input type="text" id="fatherName" name="fatherName" required />
          </div>
          <div>
            <label for="religion">مذهب:</label>
            <select id="religion" name="religion" required>
              <option value="">انتخاب کنید</option>
              <option value="شیعه">شیعه</option>
              <option value="سنی">سنی</option>
              <option value="دیگر">دیگر</option>
            </select>
          </div>
        </div>

        <!-- ID Number & National Code -->
        <div class="row">
          <div>
            <label for="idNumber">شماره شناسنامه:</label>
            <input
              type="text"
              id="idNumber"
              name="idNumber"
              maxlength="10"
              required
            />
          </div>
          <div>
            <label for="nationalCode">کد ملی:</label>
            <input type="text" id="nationalCode" name="nationalCode" required />
          </div>
        </div>

        <!-- Email & Phone -->
        <div class="row">
          <div>
            <label for="email">ایمیل:</label>
            <input type="email" id="email" name="email" required />
          </div>
          <div>
            <label for="phone">شماره تماس:</label>
            <input
              type="tel"
              id="phone"
              name="phone"
              placeholder="مثلاً 09121234567"
              required
            />
          </div>
        </div>

        <!-- Birth Date & Birth Place -->
        <div class="row">
          <div>
            <label for="birthDate">تاریخ تولد:</label>
            <input type="date" id="birthDate" name="birthDate" required />
          </div>
          <div>
            <label for="birthPlace">محل تولد:</label>
            <input type="text" id="birthPlace" name="birthPlace" required />
          </div>
        </div>

        <!-- Address -->
        <div class="row">
          <div style="flex: 1">
            <label for="address">آدرس:</label>
            <textarea id="address" name="address" required></textarea>
          </div>
        </div>

        <!-- Buttons -->
        <div class="buttons">
          <button type="submit" class="submit-btn">ثبت</button>
          <button type="reset" class="cancel-btn">انصراف</button>
        </div>

        <!-- Error Message -->
        <div id="errorMessage" class="error"></div>
      </form>
    </div>

    <script>
      document
        .getElementById("personnelForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();
          const error = document.getElementById("errorMessage");
          error.textContent = "";

          const nationalCode = document
            .getElementById("nationalCode")
            .value.trim();
          const idNumber = document.getElementById("idNumber").value.trim();
          const phone = document.getElementById("phone").value.trim();
          const userId = document.getElementById("userId").value.trim();

          if (!/^\d{10}$/.test(nationalCode)) {
            error.textContent = "کد ملی باید دقیقاً ۱۰ رقم باشد.";
            return;
          }

          if (!/^\d{1,10}$/.test(idNumber)) {
            error.textContent = "شماره شناسنامه باید حداکثر ۱۰ رقم عددی باشد.";
            return;
          }

          if (!/^09\d{9}$/.test(phone)) {
            error.textContent = "شماره تماس باید با 09 شروع شده و ۱۱ رقم باشد.";
            return;
          }

          if (userId === "") {
            error.textContent = "شناسه کاربر الزامی است.";
            return;
          }

          alert("اطلاعات با موفقیت ثبت شد!");
          window.location.href = "product-form.html";
          this.reset();
        });
    </script>
  </body>
</html>
